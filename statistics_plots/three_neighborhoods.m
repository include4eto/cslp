% te = trip efficiency
% service freq = 0.04167 (once daily)
% hold shape at 2
te_dist_rate = [
	0
	0
	4.89090741517
	4.17416982153
	5.53757048941
	7.93461420345
	4.6230781893
	5.30821990521
	9.72252129688
	7.80877111913
	6.14993857404
	6.37702071699
	6.11588630981
	7.61984938102
	10.5697288777
	10.6968781217
	10.701147541
	10.9907843632
	10.8664148802
	10.4551540342
	9.26073060345
	6.14546415373
	6.67135065913
	6.47857964761
	7.43996385542
	7.57078642441
	7.61990361716
	8.21823785109
	9.08732670672
	9.18029877713
	9.57260239405
	9.69760209082
	9.90046863981
	10.5720882909
	10.6556924873
	10.8897651268
	10.7933638083
	10.7108182685
	10.7514141692
	10.9112358134
	10.8145674653
	10.8950901639
	10.8192849937
	10.8669886507
	10.7571349306
	10.8349974779
	10.9979432535
	10.8203499369
	10.8390214376
	10.8679293821
	10.8673070618
	10.8851771753
	10.8648827238
	10.9056607818
	10.7958644388
	10.8366588903
	10.7600542245
	10.9460838588
	10.8228411097
	10.8545050441
	11.0330807062
	10.8158064313
	10.7962534678
	10.8117881463
	10.9650933165
	10.7901967213
	10.8327030265
	10.758906053
	10.7330750315
	10.8207339218
	10.8051065574
	10.9325252207
	10.9196103405
	10.9297137453
	10.8621071879
	10.8383770492
	10.9266248424
	10.8833070618
	10.8915680958
	10.8006689786
	10.8368915511
	10.9177307692
	10.9222515763
	10.9570870113
	10.8037667087
	10.8644609079
	10.9560643127
	10.7640718789
	10.7172181589
	10.8295580076
	10.9475996217
	10.8919962169
	10.8686065574
	11.0158656999
	10.8572484237
	10.7652080706
	10.8639230769
];

te_dist_rate_rate = [
	0.3   0.4   0.5   0.6   0.7   0.8   0.9   1.    1.1   1.2   1.3         1.4   1.5   1.6   1.7   1.8   1.9   2.    2.1   2.2   2.3   2.4         2.5   2.6   2.7   2.8   2.9   3.    3.1   3.2   3.3   3.4   3.5         3.6   3.7   3.8   3.9   4.    4.1   4.2   4.3   4.4   4.5   4.6         4.7   4.8   4.9   5.    5.1   5.2   5.3   5.4   5.5   5.6   5.7         5.8   5.9   6.    6.1   6.2   6.3   6.4   6.5   6.6   6.7   6.8         6.9   7.    7.1   7.2   7.3   7.4   7.5   7.6   7.7   7.8   7.9         8.    8.1   8.2   8.3   8.4   8.5   8.6   8.7   8.8   8.9   9.          9.1   9.2   9.3   9.4   9.5   9.6   9.7   9.8   9.9
];


ob_bins_dist_rate = [
	0.0
0.0
0.0
1.02040816327
3.0612244898
3.0612244898
8.16326530612
11.2244897959
11.2244897959
14.2857142857
19.387755102
12.2448979592
16.3265306122
20.4081632653
19.387755102
23.4693877551
34.693877551
38.7755102041
42.8571428571
41.8367346939
42.8571428571
41.8367346939
42.8571428571
35.7142857143
31.6326530612
33.6734693878
31.6326530612
28.5714285714
23.4693877551
28.5714285714
26.5306122449
40.8163265306
48.9795918367
54.0816326531
56.1224489796
69.387755102
65.306122449
79.5918367347
82.6530612245
94.8979591837
96.9387755102
97.9591836735
95.9183673469
96.9387755102
98.9795918367
98.9795918367
100.0
100.0
100.0
100.0
100.0
100.0
100.0
100.0
100.0
100.0
100.0
100.0
100.0
100.0
100.0
100.0
100.0
100.0
100.0
100.0
100.0
100.0
100.0
100.0
100.0
100.0
100.0
100.0
100.0
100.0
100.0
100.0
100.0
100.0
100.0
100.0
100.0
100.0
100.0
100.0
100.0
100.0
100.0
100.0
100.0
100.0
100.0
100.0
100.0
100.0
100.0

];

% hold rate at 3, shape at 2
service_freq = [
	 0.001   0.011   0.021   0.031   0.041   0.051   0.061   0.071          0.081   0.091   0.101   0.111   0.121   0.131   0.141   0.151          0.161   0.171   0.181   0.191   0.201   0.211   0.221   0.231          0.241   0.251   0.261   0.271   0.281   0.291   0.301   0.311          0.321   0.331   0.341   0.351   0.361   0.371   0.381   0.391          0.401   0.411   0.421   0.431   0.441   0.451   0.461   0.471          0.481   0.491   0.501   0.511   0.521   0.531   0.541   0.551          0.561   0.571   0.581   0.591   0.601   0.611   0.621   0.631          0.641   0.651   0.661   0.671   0.681   0.691   0.701   0.711          0.721   0.731   0.741   0.751   0.761   0.771   0.781   0.791          0.801   0.811   0.821   0.831   0.841   0.851   0.861   0.871          0.881   0.891   0.901   0.911   0.921   0.931   0.941   0.951          0.961   0.971   0.981   0.991
];

te_service_freq = [ 
	0
10.961220681
10.899220681
10.8013187894
8.12659352679
8.48726829878
8.83057631038
6.83391969867
5.74828243532
5.13347863511
5.5545876966
5.46588286713
4.87743340858
4.4473385432
4.09038347719
4.18879713153
5.12410900857
4.24723119703
3.90986639107
3.71112237012
3.611625
4.31953387803
3.85177014058
3.12618261639
3.80599626894
2.96299037524
3.24305609544
3.10189856159
3.3002415097
3.57146513955
3.32744637831
3.40145569169
3.46731010453
3.31908091825
3.02566339059
3.23419082302
2.8031626574
3.21577654
3.57047526322
2.83245491331
3.04535129791
2.91768828033
2.8221282998
3.00285324615
3.28490264561
2.53959551867
2.97681629657
2.98496518486
2.80779026682
3.24240039993
3.19742989991
3.24466698056
2.83498597045
3.30751858589
2.66171599128
3.07935185668
2.84413150382
2.99120306944
2.93882961636
2.62331058078
3.08839498056
3.00392263647
2.74635959963
2.70281766938
3.3071686642
2.77039418378
2.63005741732
2.72661030245
2.99641535581
2.79268280984
3.01681663669
2.74522736442
2.82733239874
2.77351451846
2.70400143849
2.70169247572
2.75061647072
2.61901236671
2.53633029242
2.97293346737
3.06820470981
2.80048445459
2.56237643234
2.8254077238
2.6354754823
2.53760741549
2.74974071959
2.85614316344
2.49605841054
2.8347759769
2.61671665755
2.72398783569
2.56321633006
2.56500195716
2.58092401216
2.72294600383
2.71547989907
2.55409786727
2.69909533433
2.5141832194

];

figure;
hold on;
plot(te_dist_rate_rate, te_dist_rate)
xlabel('Distribution rate')
ylabel('Trip efficiency')
ylim([0 25])

print -djpg three_neighborhoods_dist_rate_trip_eff.jpg


figure;
plot(te_dist_rate_rate, ob_bins_dist_rate)
xlabel('Distribution rate')
ylabel('Percentage of overflowed bins')
print -djpg three_neighborhoods_dist_rate_overflow.jpg

% different algorithms
% greedy
te_greedy_service_freq = [
0
9.75679501699
9.6777191393
8.71330161985
4.13542121776
9.58683662172
8.65715002496
4.29377183297
4.05926542541
4.00786838497
4.37366710013
3.81163645757
3.23870472353
3.80425979123
3.70419263456
3.06878797468
3.3540015015
3.12570884141
2.92609098186
3.06695647997
3.06391054643
3.01387345852
2.80490767657
3.13221282292
2.99585391068
3.2654186573
2.98426427356
2.98477182576
3.00810696364
2.97419531325
2.74444059997
2.77275966562
2.69247859855
2.767065187
2.75083949373
2.73945859982
2.58141891671
2.57852047851
2.53594399959
2.57400846469
2.50294092682
3.09791701164
2.73742283737
2.67737321218
2.69816529338
2.5687660863
2.39044705576
2.70697644764
2.50347256755
2.39724964449
2.57550863002
2.49620740057
2.48125792
2.96857450926
2.45744627547
2.74682178071
2.61531011987
2.58154041044
2.6300618624
2.31864592211
2.75768260621
2.58464924045
2.96193549618
3.06330207026
2.35445426032
2.49701778364
2.74793109234
2.56412614813
2.26288526537
2.6270813963
2.39694091765
2.44734076286
2.62412337821
2.5972697044
2.44365175158
2.40236079701
2.85458091362
2.52930689423
2.55120302157
2.55076175211
2.58599070778
2.59152941824
2.45721641715
2.70241770401
2.48081528334
2.4884229481
2.38965106081
2.30432434074
2.35691340018
2.48764355529
2.48309734791
2.3875451674
2.57237818539
2.60363243126
2.46983749678
2.54139444692
2.57037959137
2.53188389121
2.35924370551
2.50309048089

];
figure;
hold on;
plot(service_freq, te_greedy_service_freq)
xlabel('Service frequency')
ylabel('Trip efficiency')

plot(service_freq, te_service_freq, 'r')
xlabel('Service frequency')
ylabel('Trip efficiency')

legend('Greedy', 'Priority')

ylim([0 25])

print -djpg three_neighborhoods_service_freq_trip_eff_algo.jpg
