% te = trip efficiency
% service freq = 0.04167 (once daily)
te_dist_rate = [
	0
	11.9367362637
	14.117557047
	12.8745061224
	13.8468669528
	10.1442414861
	14.351526971
	16.157625
	21.7710974244
	14.7599875519
	12.4729895833
	13.1473861835
	14.7559786432
	18.3631457413
	15.0393482428
	24.2747417219
	24.0608741722
	24.4985695364
	24.3364724062
	18.2910377668
	15.8446782107
	15.7221075171
	16.3345440851
	16.0802207084
	16.9314668401
	16.8001363636
	18.4551664612
	19.6397223587
	20.8631617418
	21.7762231628
	23.3859097352
	22.3478462116
	23.4530669159
	24.2214091757
	23.8663245033
	24.4090728477
	24.4746710817
	24.3120794702
	24.4157196468
	24.1379558499
	24.6829646799
	24.57499117
	24.2986732892
	24.8216644592
	24.6002913907
	24.3355629139
	24.8296975717
	24.2717615894
	24.1927174393
	24.6333443709
	24.576419426
	24.4233509934
	24.3635011038
	24.3874635762
	24.498214128
	24.224419426
	24.695807947
	24.156803532
	24.4395231788
	24.5264415011
	24.7112450331
	24.0377660044
	24.5427969095
	24.3942494481
	24.1876004415
	24.7067350993
	24.5731037528
	24.4112384106
	24.6440220751
	24.2939492274
	24.3244944812
	24.5730441501
	24.4005761589
	24.3208852097
	24.3699889625
	24.611
	24.3206556291
	24.5645253863
	24.2431942605
	24.4706799117
	24.3814392936
	24.3444966887
	24.3928476821
	24.2598609272
	24.1092207506
	24.4099315673
	24.7798962472
	24.0263532009
	24.0765452539
	24.6587726269
	24.6373598234
	24.421611479
	24.4408366446
	24.3470551876
	24.6794415011
	24.3198741722
	24.3514724062

];

te_dist_rate_rate = [
	0.3   0.4   0.5   0.6   0.7   0.8   0.9   1.    1.1   1.2   1.3         1.4   1.5   1.6   1.7   1.8   1.9   2.    2.1   2.2   2.3   2.4         2.5   2.6   2.7   2.8   2.9   3.    3.1   3.2   3.3   3.4   3.5         3.6   3.7   3.8   3.9   4.    4.1   4.2   4.3   4.4   4.5   4.6         4.7   4.8   4.9   5.    5.1   5.2   5.3   5.4   5.5   5.6   5.7         5.8   5.9   6.    6.1   6.2   6.3   6.4   6.5   6.6   6.7   6.8         6.9   7.    7.1   7.2   7.3   7.4   7.5   7.6   7.7   7.8   7.9         8.    8.1   8.2   8.3   8.4   8.5   8.6   8.7   8.8   8.9   9.          9.1   9.2   9.3   9.4   9.5   9.6   9.7   9.8   9.9
];


ob_bins_dist_rate = [
	0.0
	0.0
	0.0
	3.1746031746
	1.5873015873
	3.1746031746
	4.7619047619
	7.93650793651
	12.6984126984
	19.0476190476
	23.8095238095
	11.1111111111
	9.52380952381
	14.2857142857
	17.4603174603
	31.746031746
	36.5079365079
	39.6825396825
	42.8571428571
	41.2698412698
	42.8571428571
	41.2698412698
	42.8571428571
	34.9206349206
	36.5079365079
	30.1587301587
	28.5714285714
	23.8095238095
	23.8095238095
	34.9206349206
	31.746031746
	36.5079365079
	46.0317460317
	65.0793650794
	73.0158730159
	77.7777777778
	93.6507936508
	87.3015873016
	98.4126984127
	95.2380952381
	98.4126984127
	100.0
	100.0
	100.0
	100.0
	100.0
	100.0
	100.0
	100.0
	100.0
	100.0
	100.0
	100.0
	100.0
	100.0
	100.0
	100.0
	100.0
	100.0
	100.0
	100.0
	100.0
	100.0
	100.0
	100.0
	100.0
	100.0
	100.0
	100.0
	100.0
	100.0
	100.0
	100.0
	100.0
	100.0
	100.0
	100.0
	100.0
	100.0
	100.0
	100.0
	100.0
	100.0
	100.0
	100.0
	100.0
	100.0
	100.0
	100.0
	100.0
	100.0
	100.0
	100.0
	100.0
	100.0
	100.0
	100.0

];


service_freq = [
	 0.001   0.011   0.021   0.031   0.041   0.051   0.061   0.071          0.081   0.091   0.101   0.111   0.121   0.131   0.141   0.151          0.161   0.171   0.181   0.191   0.201   0.211   0.221   0.231          0.241   0.251   0.261   0.271   0.281   0.291   0.301   0.311          0.321   0.331   0.341   0.351   0.361   0.371   0.381   0.391          0.401   0.411   0.421   0.431   0.441   0.451   0.461   0.471          0.481   0.491   0.501   0.511   0.521   0.531   0.541   0.551          0.561   0.571   0.581   0.591   0.601   0.611   0.621   0.631          0.641   0.651   0.661   0.671   0.681   0.691   0.701   0.711          0.721   0.731   0.741   0.751   0.761   0.771   0.781   0.791          0.801   0.811   0.821   0.831   0.841   0.851   0.861   0.871          0.881   0.891   0.901   0.911   0.921   0.931   0.941   0.951          0.961   0.971   0.981   0.991
];

% hold rate at 3, shape at 2
te_service_freq = [ 
0
23.8416821192
24.1045209713
24.6223019868
20.1927591415
17.0324812996
18.703852573
23.1068119326
14.4495377843
12.4043618733
15.013659292
15.1683980271
11.7892401848
12.6312897072
10.9897299563
10.5706557672
12.8959064376
9.4901453879
10.0424770847
10.0632448946
9.60360310928
8.99798522677
9.06163101758
8.29020547066
9.70721033545
8.99701328853
7.76114285714
8.5318349162
7.71591297768
8.04167543631
7.94975205339
6.77791990072
6.87822905028
7.81435158076
7.2319425715
7.52119345383
8.63221862348
7.14372520736
7.16495661376
7.1577837776
6.410177298
7.2544443686
6.65447665023
6.9922694085
7.19341650886
6.52276445823
7.41019643924
7.40382816901
8.21144213725
6.36609725762
6.38276479932
6.22828341416
6.41823762981
6.76620879238
6.12989888391
7.01906769437
6.30651641362
5.92868225352
7.25853699178
6.60441214058
5.90821227164
5.93374570447
6.24447757576
7.05500231099
6.12837133612
6.01409347107
5.98089394937
5.39559528131
5.68966156447
5.91970789053
5.96551875361
6.1151270685
5.73033711537
5.98924679729
5.86001880342
5.4196795481
6.44194039315
5.369276637
5.92571095571
5.42607965731
6.20306611306
6.56125590391
6.2159649505
6.01325843809
5.71281788909
5.57663982823
6.16348145933
5.85704270813
6.09957395313
6.1387035266
5.4542558732
5.72518269738
5.64767098099
6.40902683147
5.75500090959
5.773237273
5.65081803929
5.5080378369
6.03273516209
5.94013892748

];

figure;
hold on;
plot(te_dist_rate_rate, te_dist_rate)
xlabel('Distribution rate')
ylabel('Trip efficiency')

print -djpg big_cluster_dist_rate_trip_eff.jpg

figure;
plot(te_dist_rate_rate, ob_bins_dist_rate)
xlabel('Distribution rate')
ylabel('Percentage of overflowed bins')
print -djpg big_cluster_dist_rate_overflow.jpg



% different algorithms
% greedy
te_greedy_service_freq = [
	0
24.2749536424
24.7442339956
21.8228936679
9.48162767912
13.1556144578
24.427184106
9.65191821561
8.7160929702
9.04643265306
8.01027014425
8.95331907464
7.87072884591
7.07600221321
8.05397392638
7.7081404741
7.90606651199
7.93263105431
7.17022374808
8.34611280941
7.52848210552
7.3030833829
7.27142310522
6.764772099
7.66020473625
7.0909
7.06283749713
7.34419020782
7.1771474561
6.8979088646
6.84002329451
6.34931426185
6.59761123524
6.26695387417
6.2557841484
6.59904677789
5.83267202216
6.4453324064
6.12308670867
6.07514797709
6.20338153457
5.77049351626
6.56925949749
6.13304968944
6.42620155969
6.56728817734
6.59843440717
6.20707009346
6.18712292024
5.64891638675
5.6023313736
6.07002002403
6.38596582061
5.95701464142
6.05000605315
5.50123449432
5.56310491946
5.9697222796
5.93673096829
5.54645990441
6.02837132988
6.03554523787
6.16347436653
5.63388088793
5.69214022341
5.88995003934
6.42218822808
5.96345002856
5.20979767141
5.65833241587
6.28775106807
5.6687368712
6.08578233881
5.88117898503
5.69745207626
5.78352336967
5.74088245439
5.3601388601
5.25830077987
5.97019447307
5.70073572138
5.72155752212
5.48985885372
5.52200092558
5.7097579235
5.6862782938
5.47494577352
5.55063331531
5.41137246753
5.44874259681
5.53490080863
5.45287183026
5.94190277396
6.32225728528
5.42366142822
5.4180746888
5.28525724638
5.92099694529
5.17561644535
5.69864680153

];
figure;
hold on;
plot(service_freq, te_greedy_service_freq)
xlabel('Service frequency')
ylabel('Trip efficiency')

plot(service_freq, te_service_freq, 'r')
xlabel('Service frequency')
ylabel('Trip efficiency')

legend('Greedy', 'Priority')

print -djpg big_cluster_service_freq_trip_eff_algo.jpg
